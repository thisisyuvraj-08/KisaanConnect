<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kisaan Connect</title>
    <link rel="stylesheet" href="kisaan.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <!-- i18next CDN for translation support -->
    <script src="https://unpkg.com/i18next@23.7.7/dist/umd/i18next.min.js"></script>
</head>
<body>
        <div class="funky-bg">
            <svg class="abstract-shape shape1" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M60,20 Q100,0 140,20 Q180,40 160,80 Q140,120 100,140 Q60,160 40,120 Q20,80 40,40 Q50,30 60,20 Z" fill="#43ea6a" opacity="0.18"/>
            </svg>
            <svg class="abstract-shape shape2" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="100" cy="100" rx="80" ry="50" fill="#ffd600" opacity="0.15"/>
            </svg>
            <svg class="abstract-shape shape3" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M100,30 Q130,60 100,90 Q70,120 100,150 Q130,180 100,170 Q70,160 100,130 Q130,100 100,70 Q70,40 100,30 Z" fill="#fcb69f" opacity="0.15"/>
            </svg>
        </div>
    <div class="background-animated"></div>
    <div id="authModal" class="modal">
        <div class="modal-content glass">
            <h2 id="authTitle" data-i18n="Login"><i class="fa-solid fa-user-lock"></i> Login</h2>
            <form id="loginForm">
                <input type="text" id="loginPhone" placeholder="üì± Phone Number" required pattern="[0-9]{10}">
                    <input type="password" id="loginPassword" placeholder="üîí Password" required autocomplete="current-password">
                <button type="submit" data-i18n="Login" class="btn-animated">Login</button>
                <button id="showRegisterBtn" type="button" data-i18n="Register" class="btn-animated" style="margin-top:12px;padding:0.6rem 1.2rem;width:140px;display:block;margin-left:auto;margin-right:auto;"><i class="fa-solid fa-user-plus"></i> Register</button>
            </form>
            <form id="registerForm" class="hidden">
                <input type="text" id="registerName" placeholder="üë§ Your Name" required>
                <input type="text" id="registerPhone" placeholder="üì± Phone Number" required pattern="[0-9]{10}">
                    <input type="password" id="registerPassword" placeholder="üîí Password" required autocomplete="current-password">
                <button type="submit" data-i18n="Register" class="btn-animated">Register</button>
            </form>
            <button id="showLoginLink" class="hidden btn-animated" type="button" data-i18n="Already have an account?" style="margin-top:12px;"><i class="fa-solid fa-right-to-bracket"></i> Already have an account?</button>
        </div>
    </div>

    <div id="roleModal" class="modal hidden">
        <div class="modal-content glass role-modal-content">
            <h2 data-i18n="Welcome to Kissan Connect"><i class="fa-solid fa-seedling"></i> Welcome to Kisaan Connect</h2>
            <p data-i18n="Select your role:">Select your role:</p>
            <div class="role-cards">
                <div class="role-card farmer-card animated-card">
                    <div class="role-graphic">
                        <img src="https://cdn-icons-png.flaticon.com/512/2909/2909763.png" alt="Wheat Barley Farmer" />
                    </div>
                    <h3><i class="fa-solid fa-tractor"></i> Farmer</h3>
                    <p>Grow and sell your produce directly to local stores.</p>
                    <button id="farmerBtn" data-i18n="Farmer" class="btn-animated role-btn-green">Choose Farmer</button>
                </div>
                <div class="role-card kirana-card animated-card">
                    <div class="role-graphic">
                        <img src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" alt="Grocery Store" />
                    </div>
                    <h3><i class="fa-solid fa-store"></i> Kirana Store Owner</h3>
                    <p>Request fresh goods from nearby farmers for your store.</p>
                    <button id="kiranaBtn" data-i18n="Kirana Store" class="btn-animated role-btn-blue">Choose Kirana Store</button>
                </div>
            </div>
        </div>
    </div>

    <header class="glass-header veggie-header">
            <div class="header-row">
                <img src="Kisaan Connect updated.png" alt="Kisaan Connect Logo" class="kisaan-logo" />
                <h1 data-i18n="Kisaan Connect" class="header-title">
                    <i class="fa-solid fa-leaf" style="color:#43ea6a;margin-right:10px;"></i> Kisaan Connect
                </h1>
                <div class="profile-menu">
                    <button id="profileBtn" class="profile-btn">
                        <i class="fa-solid fa-user-circle"></i> Profile <i class="fa-solid fa-caret-down"></i>
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <button id="signOutBtn" class="profile-dropdown-item"><i class="fa-solid fa-right-from-bracket"></i> Sign Out</button>
                        <button id="deleteAccountBtn" class="profile-dropdown-item"><i class="fa-solid fa-user-xmark"></i> Delete Account</button>
                    </div>
                </div>
            </div>
    </header>

    <main>
        <div class="top-bar">
            <div class="lang-select">
                <label for="languageDropdown" data-i18n="Language:"><i class="fa-solid fa-globe"></i> Language:</label>
                <select id="languageDropdown">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
                </select>
            </div>

        </div>

        <section id="farmerSection" class="hidden">
            <h2 data-i18n="Upload Your Produce"><i class="fa-solid fa-upload"></i> Upload Your Produce</h2>
            <form id="produceForm">
                <div style="display:flex;align-items:center;gap:6px;">
                    <input type="text" id="produceName" placeholder="üçÖ Produce Name" required>
                    <button type="button" id="micProduceBtn" title="Speak" class="mic-btn"><i class="fa-solid fa-microphone"></i></button>
                </div>
                <div style="display:flex;align-items:center;gap:6px;">
                    <input type="number" id="produceQuantity" placeholder="" required data-i18n="Quantity (kg)" style="flex:1;">
                    <span style="min-width:2em;">kg</span>
                </div>
                <div style="display:flex;align-items:center;gap:6px;">
                    <span style="font-size:1.1em;">‚Çπ</span>
                    <input type="number" id="producePrice" placeholder="Price per KG" required style="flex:1;">
                </div>
                <button type="button" id="getSuggestionBtn" style="margin-top:8px;background:#ffd600;color:#222;padding:6px 16px;border:none;border-radius:4px;font-weight:600;">Get Suggestion</button>
                <div style="display:flex;align-items:center;gap:8px;">
                    <input type="number" id="produceDistance" placeholder="" min="1" max="50" value="10" required data-i18n="Visible to stores within">
                    <span style="font-size:14px;color:#2d572c;font-weight:500;" data-i18n="Range (km)">Range (km)</span>
                </div>
                <div style="margin:10px 0;">
                        <label for="produceImage" style="margin-right:8px;" data-i18n="Upload Image:">Upload Image:</label>
                    <input type="file" id="produceImage" accept="image/*">
                </div>
                <div style="margin:10px 0;">
                    <button type="button" id="snapPhotoBtn" style="background:#2d572c;color:#fff;padding:6px 16px;border:none;border-radius:4px;font-weight:500;">Snap Photo</button>
                    <video id="cameraPreview" width="160" height="120" autoplay style="display:none;margin-top:8px;"></video>
                    <canvas id="photoCanvas" width="160" height="120" style="display:none;"></canvas>
                    <img id="snappedPhoto" src="" alt="Snapped Photo" style="display:none;margin-top:8px;max-width:160px;max-height:120px;" />
                </div>
                <button type="submit" data-i18n="Produce">Post Produce</button>
            </form>
            <h3 data-i18n="My Produce Posts">My Produce Posts</h3>
            <div id="myProducePosts"></div>
            <h3 data-i18n="Nearby Kirana Store Requests">Nearby Kirana Store Requests</h3>
            <div id="storeRequests"></div>
        </section>

        <section id="kiranaSection" class="hidden">
            <h2 data-i18n="Request Goods">Request Goods</h2>
            <form id="requestForm">
                <div style="display:flex;align-items:center;gap:6px;">
                    <input type="text" id="requestName" placeholder="Requested Produce" required>
                    <button type="button" id="micRequestBtn" title="Speak" class="mic-btn"><i class="fa-solid fa-microphone"></i></button>
</style>
<style>
.mic-btn {
    background: linear-gradient(135deg, #f8fafc 60%, #dbeafe 100%);
    border: none;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(30, 64, 175, 0.08), 0 1.5px 4px rgba(59, 130, 246, 0.10);
    color: #2563eb;
    font-size: 1.3em;
    transition: box-shadow 0.2s, background 0.2s, color 0.2s;
    margin-left: 2px;
    cursor: pointer;
}
.mic-btn:hover, .mic-btn:focus {
    background: linear-gradient(135deg, #dbeafe 60%, #f8fafc 100%);
    color: #1e40af;
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.15), 0 3px 8px rgba(30, 64, 175, 0.10);
    outline: none;
}
</style>
                </div>
                <input type="number" id="requestQuantity" placeholder="" required data-i18n="Quantity (kg)">
                <div style="display:flex;align-items:center;gap:6px;">
                    <input type="text" id="requestName" placeholder="Requested Produce" required>
                    <button type="button" id="micRequestBtn" title="Speak" class="mic-btn"><i class="fa-solid fa-microphone"></i></button>
                </div>
                <div style="display:flex;align-items:center;gap:6px;">
                    <input type="number" id="requestQuantity" placeholder="" required data-i18n="Quantity (kg)" style="flex:1;">
                    <span style="min-width:2em;">kg</span>
                </div>
                <div style="display:flex;align-items:center;gap:6px;">
                    <span style="font-size:1.1em;">‚Çπ</span>
                    <input type="number" id="requestPrice" placeholder="Price per KG" required style="flex:1;">
                </div>
            </form>
            <h3 data-i18n="My Requests">My Requests</h3>
            <div id="myRequests"></div>
            <h3 data-i18n="Nearby Farmer Posts">Nearby Farmer Posts</h3>
            <div id="farmerPosts"></div>
        </section>

        <section id="mapSection">
            <h2 data-i18n="Map">Map</h2>
            <div style="display: flex; gap: 18px; align-items: flex-start;">
                <div id="requestListSidebar" style="width: 260px; max-height: 320px; overflow-y: auto; background: #f8fafc; border-radius: 10px; box-shadow: 0 2px 8px rgba(30,64,175,0.06); padding: 10px 8px 10px 10px;">
                    <h3 style="font-size:1.1em;margin:0 0 8px 0; color:#2563eb;">All Requests</h3>
                    <ul id="requestList" style="list-style:none;padding:0;margin:0;"></ul>
                </div>
                <div style="flex:1;">
                    <div id="map" style="height: 300px; width: 100%; border-radius: 10px;"></div>
                </div>
            </div>
        </section>
    </main>

    <div id="contactModal" class="modal hidden">
        <div class="modal-content">
            <h2>Contact Details</h2>
            <p id="contactInfo"></p>
            <button id="whatsappBtn" style="background:#25D366;color:#fff;padding:6px 16px;border:none;border-radius:4px;font-weight:500;margin-right:8px;">WhatsApp</button>
            <button id="closeContact">Close</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        <!-- Firebase SDKs -->
        <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore-compat.js"></script>
        <!-- Optional: Cloud Messaging -->
        <!-- <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-messaging-compat.js"></script> -->

        <script>
                    const firebaseConfig = {
                        apiKey: "AIzaSyBqUMK7HiPudsEpvM9lcd77IrZOHihuKHY",
                        authDomain: "kisaan-connect-4481a.firebaseapp.com",
                        projectId: "kisaan-connect-4481a",
                        storageBucket: "kisaan-connect-4481a.firebasestorage.app",
                        messagingSenderId: "924663926760",
                        appId: "1:924663926760:web:68ea2a8bd93ee7ddca9e5d"
                    };
                    firebase.initializeApp(firebaseConfig);
        </script>
                <script src="kisaan.js"></script>
                <script>
                // Extended translation dictionary for all visible text and placeholders
                const translations = {
                    en: {
                        'Kisaan Connect': 'Kisaan Connect',
                        'Login': 'Login',
                        'Register': 'Register',
                        'New user?': 'New user?',
                        'Already have an account?': 'Already have an account?',
                        'Welcome to Kissan Connect': 'Welcome to Kisaan Connect',
                        'Select your role:': 'Select your role:',
                        'Farmer': 'Farmer',
                        'Kirana Store': 'Kirana Store Owner',
                        'Upload Your Produce': 'Upload Your Produce',
                        'Produce': 'Produce',
                        'My Produce Posts': 'My Produce Posts',
                        'Nearby Kirana Store Requests': 'Nearby Kirana Store Requests',
                        'Request Goods': 'Request Goods',
                        'Request': 'Request',
                        'My Requests': 'My Requests',
                        'Nearby Farmer Posts': 'Nearby Farmer Posts',
                        'Map': 'Map',
                        'Language:': 'Language:',
                        'Phone Number': 'Phone Number',
                        'Password': 'Password',
                        'Your Name': 'Your Name',
                        'Produce Name': 'Produce Name',
                        'Price per KG': 'Price per KG',
                        'Visible to stores within': 'Visible to stores within',
                        'Range (km)': 'Range (km)',
                        'Upload Image:': 'Upload Image:',
                        'Snap Photo': 'Snap Photo',
                        'Requested Produce': 'Requested Produce',
                        'Quantity': 'Quantity',
                        'Visible to farmers within': 'Visible to farmers within',
                        'Contact Details': 'Contact Details',
                        'WhatsApp': 'WhatsApp',
                        'Close': 'Close',
                        'Post Produce': 'Post Produce',
                        'Post Request': 'Post Request',
                    },
                    hi: {
                        'Kisaan Connect': '‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§®‡•á‡§ï‡•ç‡§ü',
                        'Login': '‡§≤‡•â‡§ó‡§ø‡§®',
                        'Register': '‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞',
                        'New user?': '‡§®‡§Ø‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ?',
                        'Already have an account?': '‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§ñ‡§æ‡§§‡§æ ‡§π‡•à?',
                        'Welcome to Kissan Connect': '‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à',
                        'Select your role:': '‡§Ö‡§™‡§®‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç:',
                        'Farmer': '‡§ï‡§ø‡§∏‡§æ‡§®',
                        'Kirana Store': '‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§Æ‡§æ‡§≤‡§ø‡§ï',
                        'Upload Your Produce': '‡§Ö‡§™‡§®‡§æ ‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç',
                        'Produce': '‡§â‡§§‡•ç‡§™‡§æ‡§¶',
                        'My Produce Posts': '‡§Æ‡•á‡§∞‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§™‡•ã‡§∏‡•ç‡§ü',
                        'Nearby Kirana Store Requests': '‡§®‡§ú‡§¶‡•Ä‡§ï‡•Ä ‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß',
                        'Request Goods': '‡§Æ‡§æ‡§≤ ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§∞‡•á‡§Ç',
                        'Request': '‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß',
                        'My Requests': '‡§Æ‡•á‡§∞‡•á ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß',
                        'Nearby Farmer Posts': '‡§®‡§ú‡§¶‡•Ä‡§ï‡•Ä ‡§ï‡§ø‡§∏‡§æ‡§® ‡§™‡•ã‡§∏‡•ç‡§ü',
                        'Map': '‡§Æ‡§æ‡§®‡§ö‡§ø‡§§‡•ç‡§∞',
                        'Language:': '‡§≠‡§æ‡§∑‡§æ:',
                        'Phone Number': '‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞',
                        'Password': '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°',
                        'Your Name': '‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ',
                        'Produce Name': '‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§ï‡§æ ‡§®‡§æ‡§Æ',
                        'Price per KG': '‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡§ø‡§≤‡•ã ‡§Æ‡•Ç‡§≤‡•ç‡§Ø',
                        'Visible to stores within': '‡§∏‡•ç‡§ü‡•ã‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•É‡§∂‡•ç‡§Ø ‡§∏‡•Ä‡§Æ‡§æ',
                        'Range (km)': '‡§∏‡•Ä‡§Æ‡§æ (‡§ï‡§ø‡§Æ‡•Ä)',
                        'Upload Image:': '‡§õ‡§µ‡§ø ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç:',
                        'Snap Photo': '‡§´‡•ã‡§ü‡•ã ‡§≤‡•á‡§Ç',
                        'Requested Produce': '‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß‡§ø‡§§ ‡§â‡§§‡•ç‡§™‡§æ‡§¶',
                        'Quantity': '‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ',
                        'Visible to farmers within': '‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¶‡•É‡§∂‡•ç‡§Ø ‡§∏‡•Ä‡§Æ‡§æ',
                        'Contact Details': '‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§µ‡§ø‡§µ‡§∞‡§£',
                        'WhatsApp': '‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™',
                        'Close': '‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç',
                        'Post Produce': '‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç',
                        'Post Request': '‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç',
                    },
                    pa: {
                        'Kisaan Connect': '‡®ï‡®ø‡®∏‡®æ‡®® ‡®ï‡®®‡©à‡®ï‡®ü',
                        'Login': '‡®≤‡©å‡®ó‡®á‡®®',
                        'Register': '‡®∞‡®ú‡®ø‡®∏‡®ü‡®∞',
                        'New user?': '‡®®‡®µ‡®æ‡®Ç ‡®Ø‡©Ç‡®ú‡®º‡®∞?',
                        'Already have an account?': '‡®™‡®π‡®ø‡®≤‡®æ‡®Ç ‡®π‡©Ä ‡®ñ‡®æ‡®§‡®æ ‡®π‡©à?',
                        'Welcome to Kissan Connect': '‡®ï‡®ø‡®∏‡®æ‡®® ‡®ï‡®®‡©à‡®ï‡®ü ‡®µ‡®ø‡©±‡®ö ‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®∏‡®µ‡®æ‡®ó‡®§ ‡®π‡©à',
                        'Select your role:': '‡®Ü‡®™‡®£‡©Ä ‡®≠‡©Ç‡®Æ‡®ø‡®ï‡®æ ‡®ö‡©Å‡®£‡©ã:',
                        'Farmer': '‡®ï‡®ø‡®∏‡®æ‡®®',
                        'Kirana Store': '‡®ï‡®ø‡®∞‡®æ‡®®‡®æ ‡®∏‡®ü‡©ã‡®∞ ‡®Æ‡®æ‡®≤‡®ï',
                        'Upload Your Produce': '‡®Ü‡®™‡®£‡®æ ‡®â‡®§‡®™‡®æ‡®¶ ‡®Ö‡©±‡®™‡®≤‡©ã‡®° ‡®ï‡®∞‡©ã',
                        'Produce': '‡®â‡®§‡®™‡®æ‡®¶',
                        'My Produce Posts': '‡®Æ‡©á‡®∞‡©á ‡®â‡®§‡®™‡®æ‡®¶ ‡®™‡©ã‡®∏‡®ü',
                        'Nearby Kirana Store Requests': '‡®®‡©á‡©ú‡®≤‡©á ‡®ï‡®ø‡®∞‡®æ‡®®‡®æ ‡®∏‡®ü‡©ã‡®∞ ‡®¨‡©á‡®®‡®§‡©Ä‡®Ü‡®Ç',
                        'Request Goods': '‡®∏‡®Æ‡®æ‡®® ‡®¶‡©Ä ‡®¨‡©á‡®®‡®§‡©Ä ‡®ï‡®∞‡©ã',
                        'Request': '‡®¨‡©á‡®®‡®§‡©Ä',
                        'My Requests': '‡®Æ‡©á‡®∞‡©Ä‡®Ü‡®Ç ‡®¨‡©á‡®®‡®§‡©Ä‡®Ü‡®Ç',
                        'Nearby Farmer Posts': '‡®®‡©á‡©ú‡®≤‡©á ‡®ï‡®ø‡®∏‡®æ‡®® ‡®™‡©ã‡®∏‡®ü',
                        'Map': '‡®®‡®ï‡®∏‡®º‡®æ',
                        'Language:': '‡®≠‡®æ‡®∏‡®º‡®æ:',
                        'Phone Number': '‡®´‡©ã‡®® ‡®®‡©∞‡®¨‡®∞',
                        'Password': '‡®™‡®æ‡®∏‡®µ‡®∞‡®°',
                        'Your Name': '‡®§‡©Å‡®π‡®æ‡®°‡®æ ‡®®‡®æ‡®Æ',
                        'Produce Name': '‡®â‡®§‡®™‡®æ‡®¶ ‡®¶‡®æ ‡®®‡®æ‡®Æ',
                        'Price per KG': '‡®ï‡®ø‡®≤‡©ã ‡®¶‡©á ‡®Æ‡©Å‡©±‡®≤',
                        'Visible to stores within': '‡®∏‡®ü‡©ã‡®∞ ‡®≤‡®à ‡®¶‡®ø‡©±‡®ñ ‡®∏‡©Ä‡®Æ‡®æ',
                        'Range (km)': '‡®∏‡©Ä‡®Æ‡®æ (‡®ï‡®ø‡®Æ‡©Ä)',
                        'Upload Image:': '‡®ö‡®ø‡©±‡®§‡®∞ ‡®Ö‡©±‡®™‡®≤‡©ã‡®° ‡®ï‡®∞‡©ã:',
                        'Snap Photo': '‡®´‡©ã‡®ü‡©ã ‡®≤‡®ì',
                        'Requested Produce': '‡®Æ‡©∞‡®ó‡®ø‡®Ü ‡®â‡®§‡®™‡®æ‡®¶',
                        'Quantity': '‡®Æ‡®æ‡®§‡®∞‡®æ',
                        'Visible to farmers within': '‡®ï‡®ø‡®∏‡®æ‡®® ‡®≤‡®à ‡®¶‡®ø‡©±‡®ñ ‡®∏‡©Ä‡®Æ‡®æ',
                        'Contact Details': '‡®∏‡©∞‡®™‡®∞‡®ï ‡®µ‡©á‡®∞‡®µ‡©á',
                        'WhatsApp': '‡®µ‡®ü‡®∏‡®ê‡®™',
                        'Close': '‡®¨‡©∞‡®¶ ‡®ï‡®∞‡©ã',
                        'Post Produce': '‡®â‡®§‡®™‡®æ‡®¶ ‡®™‡©ã‡®∏‡®ü ‡®ï‡®∞‡©ã',
                        'Post Request': '‡®¨‡©á‡®®‡®§‡©Ä ‡®™‡©ã‡®∏‡®ü ‡®ï‡®∞‡©ã',
                    }
                };

                function translatePage(lang) {
                    document.querySelectorAll('[data-i18n]').forEach(el => {
                        const key = el.getAttribute('data-i18n');
                        if (translations[lang] && translations[lang][key]) {
                            el.textContent = translations[lang][key];
                        }
                    });

                    // Translate placeholders
                    const placeholderMap = {
                        'loginPhone': 'Phone Number',
                        'loginPassword': 'Password',
                        'registerName': 'Your Name',
                        'registerPhone': 'Phone Number',
                        'registerPassword': 'Password',
                        'produceName': 'Produce Name',
                        'producePrice': 'Price per KG',
                        'produceDistance': 'Visible to stores within',
                        'requestName': 'Requested Produce',
                        'requestQuantity': 'Quantity',
                        'requestDistance': 'Visible to farmers within',
                    };
                    Object.entries(placeholderMap).forEach(([id, key]) => {
                        const el = document.getElementById(id);
                        if (el && translations[lang][key]) {
                            el.placeholder = translations[lang][key];
                        }
                    });

                    // Translate button text
                    const buttonMap = [
                        { id: 'snapPhotoBtn', key: 'Snap Photo' },
                        { id: 'produceForm', key: 'Post Produce', type: 'submit' },
                        { id: 'requestForm', key: 'Post Request', type: 'submit' },
                        { id: 'whatsappBtn', key: 'WhatsApp' },
                        { id: 'closeContact', key: 'Close' },
                    ];
                    buttonMap.forEach(({ id, key, type }) => {
                        const el = document.getElementById(id);
                        if (el && translations[lang][key]) {
                            if (type === 'submit') {
                                el.querySelector('[type="submit"]').textContent = translations[lang][key];
                            } else {
                                el.textContent = translations[lang][key];
                            }
                        }
                    });
                }

                document.getElementById('languageDropdown').addEventListener('change', function() {
                    const lang = this.value;
                    translatePage(lang);
                });

                // Initial translation
                translatePage(document.getElementById('languageDropdown').value);
                </script>
</body>
</html>
